---
import Layout from "../layouts/Layout.astro";
import gql from "graphql-tag";
import client from "../lib/apollo-client";
import HomeSlider from "../components/Index/HomeCarousel.vue";
import OurServices from "../components/Index/OurServices.astro";
import ShowAllCategories from "../components/Category/ShowAllCategories.vue";
import CartRow from "../components/CarRow.astro";
import ServiceRow from "../components/Index/ServiceRow.astro";
import cars from "../data/cars";
import services from "../data/services";
const variables = { limit: 99 };
const { data, loading } = await client.query({
  query: gql`
    {
      productCategories(first: 20) {
        nodes {
          id
          databaseId
          name
          slug
        }
      }
    }
  `,
  variables,
});
---

<Layout title="Index">
  <HomeSlider client:load />
  <h1 class="text-center text-3xl font-bold p-4">Categories</h1>

  <ShowAllCategories categories={data.productCategories} client:load />

 
  <section class="service_we_offer_area gray_service p_100">
    <div class="container">
      <div class="single_b_title">
        <h2>Services We offer</h2>
      </div>
      <div class="row we_offer_inner">
        {services.map((item) => <ServiceRow service={item} />)}
      </div>
    </div>
  </section>
</Layout>

<style>
  #app {
    font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    margin-top: 60px;
  }
  .loader {
    width: 48px;
    height: 48px;
    border: 2px solid #fff;
    border-radius: 50%;
    display: inline-block;
    position: relative;
    box-sizing: border-box;
    animation: rotation 1s linear infinite;
  }
  .loader::after {
    content: "";
    box-sizing: border-box;
    position: absolute;
    left: 50%;
    top: 0;
    background: #ff3d00;
    width: 3px;
    height: 24px;
    transform: translateX(-50%);
  }
  .fadeIn {
    animation: fadeIn 2.5s;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes bounce-in {
    0% {
      transform: scale(0.1);
      opacity: 0;
    }
    60% {
      transform: scale(1.2);
      opacity: 1;
    }
    100% {
      transform: scale(1);
    }
  }

  @keyframes bounce-out {
    0% {
      transform: scale(1);
    }
    45% {
      transform: scale(1.3);
      opacity: 1;
    }
    100% {
      transform: scale(0);
      opacity: 0;
    }
  }

  .bounce-it {
    view-transition-name: bounce-it;
  }

  ::view-transition-old(bounce-it) {
    animation: 600ms cubic-bezier(0.4, 0, 0.2, 1) both bounce-out;
  }

  ::view-transition-new(bounce-it) {
    animation: 600ms cubic-bezier(0.4, 0, 0.2, 1) both bounce-in;
  }
  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>
